{% extends "../partials/_base.html" %}

{% load static %}

{% block title %}Home{% endblock %}

{% block css_template %}
    <link rel="stylesheet" href="{% static 'css/templates/index.css' %}">
{% endblock %}

{% block content %}
    <h1>Rotas</h1>

    <form method="POST" class="form-routes">
        {% csrf_token %}
        <select 
            id="origin"
            name="origin" 
            required
        >   
            <option value="" disabled selected>Origem</option>
            {% for origin in origins %}
                <option>{{ origin }}</option>
            {% endfor %}
        </select>

        <select 
            id="destination"
            name="destination" 
            required
        >
            <option value="" disabled selected>Destino</option>
            {% for destination in destinations %}
                <option>{{ destination }}</option>
            {% endfor %}
        </select>

        <input 
            id="date" 
            name="date" 
            type="date" 
            required
        />

        <button class="button search" type="submit">Pesquisar</button>
    </form>

    <h2>Ultimas rotas</h2>

    <table class="table">
        <thead>
            <th>Data</th>
            <th>Origem</th>
            <th>Destino</th>
            <th>Embarcação</th>
        </thead>
        <tbody>
            {% for routes in routes_list %}
                <tr>
                    <td colspan="2">Rota</td>
                    <td colspan="2">
                        <a href="" target="_blank" rel="noopener noreferrer">Selecionar Rota</a>
                    </td>
                </tr>
                {% for route in routes %}
                    <tr>
                        <td>{{ date }}</td>
                        <td>{{ route.origin }}</td>
                        <td>{{ route.destination }}</td>
                        <td>{{ route.boat }}</td>
                    </tr>
                {% endfor %}
            {% endfor %}
        </tbody>
    </table>
{% endblock %}